<!DOCTYPE html>
<html>
<head>
	<title>Welcome to Grotto :)</title>
	<link rel="stylesheet" href="/grotto.css" type="text/css" />
</head>
<body>
	<div id="modal">
		<div id="modal-content">
			<span id="close">&times;</span>
			<div></div>
		</div>
	</div>
	<button id="feed">+</button>
	<button id="login">Login/Register</button>
	<button id="start">Post</button>
	<div class="timeline">
		<div class="header">Home</div>
		<button class="settings">Settings</button>	
	</div>
	<div class="timeline">
	<div class="header">Local</div>
	<button class="settings">Settings</button>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
	</div>
	<div class="timeline">
	<div class="header">Global</div>
	<button class="settings">Settings</button>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
	</div>
	<div class="timeline">
	<div class="header">lizzy@frizzy.lol</div>
	<button class="settings">Settings</button>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
	</div>
	<div class="timeline">
	<div class="header">#news</div>
	<button class="settings">Settings</button>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
		<div class="post">
		<p>This is a post on a timeline.</p>
		</div>
	</div>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
var getData = get("http://localhost:3000/posts"+"?arg=2022-09-09%2000:00:00");
var postInner = "<div class=\"img\"><img src=\"/smol-flower.jpg\" /></div><div class=\"postname\"><div></div><div></div></div><div class=\"posttext\"></div>";

async function get(url)
{
	var output = await axios.get(url)
	.then(function(response)
	{	
		var datasize = response.data.length;
		var feed = document.getElementsByClassName("timeline")[0];
		for(let i=0;i<datasize;i++)
		{
			//populate tl with post node
			var post = document.createElement("div");
			post.className = "post";
			post.innerHTML = postInner;
			feed.appendChild(post);
			
			//hook on to post node
			var postHook = document.getElementsByClassName("post");
			
			//populate post node with displayname, username, and post content
			postHook[i].children.item(1).children.item(0).textContent = "Izzy";
			postHook[i].children.item(1).children.item(1).textContent = "@"+response.data[i].username;
			postHook[i].children.item(2).innerHTML = response.data[i].content;
		}
	})
	.then(result => console.log(result));
	return output;
}

</script>
<script src="/put.js" type="text/javascript"></script>
<script src="/grotto.js" type="text/javascript"></script>
</html>